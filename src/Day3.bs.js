// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Caml_array = require("bs-platform/lib/js/caml_array.js");
var Caml_int32 = require("bs-platform/lib/js/caml_int32.js");

var input = ".#......##..#.....#....#.#.#...\n.#.#...#.##.#..........#...##..\n.........#.....#.####........#.\n.......#.#...#.#...............\n..#....#...#.#...#.#...#.#.....\n...#...........#..#.........#.#\n....#..#....#..#..#.#...#..##..\n#...........#..#.....#.......#.\n#..#...#...#.###...#...#.#...#.\n#...#.#.......#...#...#...##.##\n..#..................#.#.#....#\n..#.##....#........##..........\n.....#....#....#.#.......#.....\n##.#..##.#.....###.......#.....\n......#...###....#..#.#...#....\n..............#.........#.##...\n#......#.............#....#...#\n.#..#......#.###....#...#.....#\n..#........#.....#.....#...#..#\n.......#...#..............#..#.\n..#...#........#...##........#.\n.#........#....#......#......#.\n....#..#.###.......##....#.#..#\n..#..###..#....................\n......#...#....#.........#.#...\n....#.##................#..#...\n....#......######.....#........\n.#......##.......#....#..##.###\n..#...##.###..#.......#....#...\n....#.###...#.#.#........#.....\n...###...#.......#..........#.#\n..........#...#..........##.#..\n..#....#........#.....#....#..#\n..#...#.#....##..#...##....#...\n........##...#..##.....#.......\n###.......#.#...#...#.......#.#\n....#.#....##.###........#.....\n.....#..............#....##..##\n#......#.#....#.#......#.....##\n.....#....#..#......#...#......\n..#.##..#.....#..#....#......#.\n.....#.#.#..........##....#....\n.........#..#..........#.#.....\n.##..#...#......#.#..#....#....\n#.#..##.......#.#......##......\n..#.#....#.#.....#.............\n.#.........#.......#..#.#......\n##.........#..##.#......#......\n#..#.....#...#.....#.........#.\n..........#..##..##.#..##...###\n..##.....#...#..##...##.#.#....\n..#..........#.#.....##.#....#.\n.##..#..#.........###.......#..\n......##....#...##....##.......\n.....#.#.##...............#....\n#..#......#.....#..#..#.#.....#\n.....##.#....#.#.....#.#.#.....\n....#..#.#..##....#.....#....#.\n#...#.....#....#....#.#.#......\n.....#................#.......#\n.......#..#.#...#.#......#..#.#\n...........#....#....###...#.#.\n#.##....##..###.#.#......#.##.#\n..##...#.#..#..#...#.....#.#.#.\n#.....###.#..#.#...#.#......#.#\n..##.#...#...#.#.....#.#.......\n#....#...#.##......#.#......#..\n..#.....##.....#...............\n.....###...##.#...........#....\n...#..##.....##....#...........\n.....#..#......#..........#....\n....##..##.#...#...#.#.....#.##\n.#.....###..###.#...#.#..#....#\n.#..........#...#..#.#.#..#...#\n.##.##..#..#....#....####......\n....#..#.#..........#..........\n###...#.#..#..#...#..###.......\n####.#...#....#..#...#..#......\n.....##....#.#...#....##....##.\n....#.#.##....#.##..#....#.#.#.\n#......#..#.###....#####.##....\n..##..#.#.#..#........##.##..##\n#.#...#..#..#......#..#.....#..\n.###.....#.#....#.#..##.....#.#\n....#......#.#...#...#.#....#.#\n.....#.###.##..................\n.#..........#........#.#...##.#\n.##......#.#.#..#....##.###..#.\n..#.##....#....#.........#.#..#\n........#..#..#.#.####.....##..\n#..#.##.#......#.#..##.#...#..#\n..#.#.##..#.##..........#......\n##.#.....#.#.##..#..##.....##.#\n.##........#..#.....#...#.##.##\n...#....#.#.#.........##.....#.\n...#....#.#....#...#..#........\n.....#...#..#...#.##......##...\n##.........#......#..........##\n.#......#.....##....#.#.#.....#\n..#.###......#..#.#....#.....#.\n.#.......#...#...#.#.#.#..##...\n...#..............#...###.....#\n...##......#.#..#.#........#.#.\n..##.#....#..........##...#.#..\n..#...#.....#.######...##...#..\n#...#...#............#.....#...\n.###..###.##..#.........#......\n.#........##..#....#...#.#..##.\n#.#.##.#.#...###...............\n..#.#.#......#.#.#....#.....#.#\n.#...........#.##.#..#.###.....\n.###.#....#...........##.#.#...\n.#...#...........#..##.........\n.#...#.#...........#..###....#.\n.##.......#.....#.....##....#..\n#.......#........#...##.##..#.#\n....#..###..#.....##.......#...\n......###.#...#..#....#.#...#..\n..#..#.......##...#.#.#...#....\n......#..#.......#.......##.#..\n#.#....###.....#...#..#...#....\n#...#.##.#........#..........##\n.....#.#.##.#.#..#..##.......##\n.#.#.......##....#.#...........\n#..##.............##...#.#..#..\n#...........#.#......#.##.##..#\n...#...#...........#....###.#.#\n.##..#.#.#....#....#####.......\n..#...#.....#.#....#...........\n.#..#........#.....#.#......#..\n.#.........#...#...#.#.#..#....\n.##.##......#.#...#.......#...#\n.##...#..#..........#...#.....#\n#..........#..#...#.#......#...\n....##......#...##..##..#....#.\n.##.......#...#.#..##..#..#....\n.#.#................#....#.....\n..#..#..###.......#............\n...##.....#..#......#....#.....\n....#...###...#....#..##...#.#.\n#.........#.......#...#....#...\n.#.#...#.#....##....#.#..##.#..\n...#..#..#....#..#.#..##.....##\n..#..#.#.#....#...#....#..#....\n......###.....#...##.#..#.#...#\n.#.#.#..#.##........#.#....#...\n.#..........#....#.#.......#...\n#.....#........#........#....#.\n.#.#..#...#...................#\n....####..#..#..#..#....#..#.#.\n..##.#..........#.##..#.....##.\n..................##..........#\n....##....###.....#..#...#.#...\n.##.........#..#...............\n....##..###....#.##............\n#.#...###.#..##...#...........#\n.....#..#......#.....#.........\n..#..##...#.....#.....#.#......\n......#....###.#..#.#.#....#..#\n#...#.......#.##.....#.........\n.#.#..#...#.............##.....\n......#..............#.....#..#\n......#......###....#...#......\n.....#.....#...#.......###.....\n#..........##......##.#.#.....#\n....#.......#..#......#.......#\n..#...#.###...........#..#.###.\n.....#...#.#...........#.#...##\n........#.#.#........#.#.....#.\n....##..##.#.#..#.#....#.#.##..\n..#.#.#......##.....#...#.#...#\n##...#..#......#.#.#..#...#....\n....#..##...........#..#..#..#.\n.#..##...#...#...##.#..#.#....#\n.#.....####.#..#..#....##..#.#.\n.#....#..#......#.....#.#.#....\n....#..#.....#......#..........\n..#.#..###.....#...#...#.....##\n..#.#...##..#...........####...\n.#.##....##.#......#.....##.#..\n#.##..#....#.###..........##...\n.###...#......#.#....##........\n...................#..#.....#..\n#.#...#.#..#.....#...#..####.##\n....#.##..##...##.##.....#.....\n.#...#.##...........#.......##.\n###..#.....##...#.........##...\n.###....##...###...............\n.#....#####........#.#.#.##....\n.#.#....####.##........#.......\n.....#......#..................\n......###.....##......#..##.#..\n....#.#...........##.#....##.#.\n...................#.#.#.......\n#.#.#........#..#.......##.....\n..#...#...#....#......#....##.#\n#..#..............#......#....#\n......#.........##.............\n.....#.#....##..#.......#......\n......#.......#...........#....\n....#....#.#..##.#....#...#....\n#.#.#..#..#.#.#.#...#....#....#\n.#.#....#...#.#..#......#.....#\n.#...........#.#....##.....#...\n........#...#....#....##.....##\n#..#..........#..#..#.....#....\n#.#.###..........#.##....#...##\n..#................#.##.##.....\n..#...#.##...##...#.........#..\n#....#......#......#.........#.\n##...#...##.#.........#......#.\n.......#.....#.................\n...#...#.....##.........#.#..#.\n..#......#...#.......#......#.#\n#.......#...#.##.#..##..#......\n.#.#............#...###..#.....\n...#.......##.......#....#..#..\n.....#..#.#....#.#.............\n#....#...##.##....#....##......\n........#......#.......#....#..\n..#..#..##......##.#..#.#..##..\n....##......#.##.##......#.....\n........##.#...#.....#.......#.\n..##.#....#..#......#.##.......\n..##.####.#...#.#....#.........\n.#........#.....#..#....#...#.#\n###....##......#..#..#.##..#...\n..........###.#..#..#....#.....\n..#.........#....#.....#....#.#\n.#...#.#.....##.#...#...#.#..#.\n....##......##.##.#.....#..#...\n....#.##...##.......#..##......\n#..........#..#....#.......#.#.\n..#.....#.................#....\n..........#.#.#.....#.#....#..#\n.......#..........#.##....#....\n#..#.....#.......#........#....\n#.....##..#.........##..#..#.#.\n.##.#...#..........#....#......\n....#..#.#......#.##..#..#.##..\n...##.####....#.....#.#...##...\n..#.#....#.#........#..........\n#...#.#.##.##....##..#...#...#.\n...#.#.......#..#...#..#..##..#\n.....#....#........###.....#...\n.......#..#.##....#.#.....#....\n....##....#....#.......#.....#.\n.........#........###...##.....\n#.#..#...##.........#.#..#....#\n...##...........#.........#...#\n......#.#.#.........#..#.#.#...\n........##.###....#..#.......#.\n....#.#...#......#..#........##\n.#....##....#...#.##.........#.\n####.#..#...........##.#.#.....\n...#....#..#.....#..##.####.#..\n.##...#...........#.#.........#\n#.#..#..#...#.#.#.........#..#.\n#......###............#...#....\n..#.......#....#...#...#..#...#\n#.#.#...##..#...#...#.......##.\n......#.#.......#..........#.#.\n...............#...#..#...#.#..\n.#.#...##.####..##.##....#..##.\n#..####.......##.#........#...#\n......###....##...#.#..#.##....\n.##.....###..#...#.###.###.....\n..#...#.....#...#..#..##..#....\n...#...##.....##........#.#.##.\n.#...#..#....#....#..###....#.#\n..#.#.#.#.#..........#.#..#..##\n.......###.....................\n##.#......#.##.....#.........#.\n......................#.#.....#\n#..#........##.......#..##..#.#\n#.#.#.....##.#.##.##.#....##...\n.#...#.....#.........#.....#...\n..#.........#.##.#.###.#......#\n.........#..#.##...#.......###.\n.....##........#......#........\n...#.#...##...#........#.##....\n.........##............#.####..\n#....#...#...#..#....#..#.#.#.#\n..#.........#......#.##........\n....#.....#........#........#.#\n.##.#..#.#..#..###......###....\n#.###.....#.#.#.##........#..##\n#.#..#...##.....#....#...#.#...\n......#....#.....#...#.........\n...#........##.......#.##..####\n..#..#....#....#..#..#...#.##..\n.##.....#............#...#.....\n......#.......#.....#...#.#.#..\n.........#.....#...##..........\n.....#........##...........#...\n#.#..##.#...#....#....#........\n#.##..#.#.......#...#......#...\n...........#.#..#..#.....##.#..\n#....#.##.......#......#.##..#.\n.....#........#.##.#...#.....#.\n.....###..#.......##...........\n.........#.#.#.....#.##.......#\n.......#....#......#.#.....#...\n##........#...#..#.#.........#.\n##...........#.##...##......#..\n..#.###.#.#.#...####..#....###.\n.........#...#.....##....#.#.##\n.###..###.#.#.....#.##.........\n#..#...#.#.................##.#\n##.........#.#....#.#...#.###..\n#.#....#..............#.##.#...\n...#..#....##.#..#.......#..##.\n.#..#.###......##..........#..#\n.##....#.#....#....#.#..#......\n.......#.....#..#....#.##...#..\n#.#.#.........###..#..#.....#..\n...##..##...##....#..#......#..\n..........#....#..........#....\n#..##..#...#......#.....#.#....\n#..##..#....#.#.#...#..........\n......##..#.........#........#.\n.##..#..#......###.....#..#....\n.....#..#.##..........#.#..#...".split("\n");

var trajectories = [
  [
    1,
    1
  ],
  [
    3,
    1
  ],
  [
    5,
    1
  ],
  [
    7,
    1
  ],
  [
    1,
    2
  ]
];

var lineLength = Caml_array.get(input, 0).length;

var results = input.reduce((function (result, line, lineNumber) {
        return trajectories.map(function (param, index) {
                    var bottomSpeed = param[1];
                    var nbTree = Caml_array.get(result, index);
                    var match = Caml_int32.mod_(lineNumber, bottomSpeed);
                    if (match !== 0) {
                      return nbTree;
                    }
                    var coord = Caml_int32.mod_(Math.imul(param[0], Caml_int32.div(lineNumber, bottomSpeed)), lineLength);
                    console.log([
                          lineNumber,
                          coord,
                          line.charAt(coord)
                        ]);
                    if (line.charAt(coord) === "#") {
                      return nbTree + 1 | 0;
                    } else {
                      return nbTree;
                    }
                  });
      }), [
      0,
      0,
      0,
      0,
      0
    ]);

console.log(results);

exports.input = input;
exports.trajectories = trajectories;
exports.lineLength = lineLength;
exports.results = results;
/* input Not a pure module */
